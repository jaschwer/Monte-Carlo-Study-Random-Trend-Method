
  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   13.1   Copyright 1985-2013 StataCorp LP
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

3-user Stata network perpetual license:
       Serial number:  501306208483
         Licensed to:  Jakob Schwerter
                       

Notes:
      1.  (-set maxvar-) 5000 maximum variables
      2.  Stata running in batch mode

. do /Users/jakobschwerter/.ipython/stata/code.do 

. clear

. set more off

. set linesize 200

. log using "/Users/jakobschwerter/.ipython/stata/log_output.log", text replace
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/jakobschwerter/.ipython/stata/log_output.log
  log type:  text
 opened on:  15 Apr 2016, 17:27:01

. timer on 1

. set seed 100

. capture program drop mcprog_fe

.         program mcprog_fe
  1.         clear
  2.         drawnorm alpha_i, n(200)
  3.         gen i = _n 
  4.         expand 5
  5.         bys i: g t = _n 
  6.         gen trend = t*i  
  7.         drawnorm nu_it e_it, n(1000)
  8.         g x_it = nu_it + alpha_i + trend 
  9.         g y_it = 3 + alpha_i + 2*x_it + trend + e_it 
 10.         xtset i t
 11.         xtdata i t x_it y_it, fe clear 
 12.             * preforms the within-transformation, so we can be sure that it is really the first thing in the regression
.         xtset i t 
 13.             * to sort the data
.         g dx_it = d.x_it
 14.         g dy_it = d.y_it
 15.         reg dy_it dx_it,  
 16.             * Random-Trend (FE-FD)
.         drop y_it x_it
 17. end

.         simulate _b, nodots nolegend  reps(100): mcprog_fe


.         rename _b_dx_it beta_fe_fd

.         keep beta_fe_fd 

.             * it = individual trend
. timer off 1

. display "The time this code runs is"
The time this code runs is

. timer list 1
   1:      3.45 /        1 =       3.4530

. log close
      name:  <unnamed>
       log:  /Users/jakobschwerter/.ipython/stata/log_output.log
  log type:  text
 closed on:  15 Apr 2016, 17:27:05
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

. save "/Users/jakobschwerter/.ipython/stata/data_output.dta", replace 
file /Users/jakobschwerter/.ipython/stata/data_output.dta saved

. 
. 
end of do-file
